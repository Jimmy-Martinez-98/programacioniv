<!DOCTYPE html>
<html lang="es">
	<link rel="stylesheet" href="bootstrap-4.4.1-dist/css/bootstrap.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
		integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="public/vistas/verproductos/productosv.css">
		<link rel="stylesheet" href="public/vistas/blog/css/libs/animate.css">
		<title>Agro Producers</title>
	</head>

	<body>
		<div class="container-fluid  mb-2" id="productovista">
			<div class="row ">
				<div class="col-sm  mt-2  imges wow fadeIn">
					<img v-bind:src="detallesprod.info.imagen" width="100%" height="400px" alt=" image">
				</div>

				<div class="col-sm mt-5 wow fadeIn">
					<div class="container columna form-row">
						<div class="col-md-12 form-row">
							<h1>{{detallesprod.info.nombreProducto}}</h1>
							<div class=" badge badge-danger text-wrap ml-3" style="width: 3.5rem; height:6rem"
								v-if="detallesprod.info.isagotado==='SI'">
								<img class="terni mt-2" src="public/img/x-circle.svg" width=30px heigth="30px">
								<br>
								<br>
								<br>
								<span class="text-white mt-5">Agotado</span>
							</div>
						</div>

						<p class="clasificacion">
							<input id="radio1" type="radio" class="estrellas" value="5">
							<label class="labeli" for="radio1"> &#9733;</label>
							<input id="radio2" type="radio" class="estrellas" value="4">
							<label class="labeli" for="radio2"> &#9733;</label>
							<input id="radio3" type="radio" class="estrellas" value="3">
							<label class="labeli" for="radio3"> &#9733;</label>
							<input id="radio4" type="radio" class="estrellas" value="2">
							<label class="labeli" for="radio4"> &#9733;</label>
							<input id="radio5" type="radio" class="estrellas" value="1">
							<label class="labeli" for="radio5">&#9733;</label>
						</p>
						<div class="container-sm">
							<p class="text-justify text-black-50">
								{{detallesprod.info.descProducto}}
							</p>

							<div class="input-group-prepend">
								<label class="input-group-text" for="inputGroupSelect01">Existencias: </label>
								<input type="text" disabled class="form-control p-2 w-25"
									v-model="detallesprod.info.existencias">
							</div>

							<a href="#" class="contactar mt-3 mb-3 form-inline"
								v-on:click="contactar(detallesprod.info.idUsuario)">
								<i class="far fa-comment-dots fa-lg"> </i>
								<h4>Contactar</h4>
							</a>
							<div class="container mb-5 columna">
								<div class="input-group mb-5">
									<div class="input-group-prepend">
										<label class="input-group-text" for="inputGroupSelect01">Cantidad:</label>
									</div>
									<select class="custom-select" v-model="Compra.select_Cantidad"
										id="inputGroupSelect01">
										<option selected value="">Elige...</option>
										<option value="Libra" v-if="detallesprod.info.libra==true">Libra</option>
										<option value="Arroba" v-if="detallesprod.info.Arroba==true">Arroba</option>
										<option value="Quintal" v-if="detallesprod.info.Quintal==true">Quintal</option>
										<option value="Caja" v-if="detallesprod.info.Caja==true">Caja</option>
									</select>
								</div>
								<div class="container ">
									<div class="d-flex justify-content-between">
										<div class="w-50 form-inline">
											<button class="btn btn-dark" v-on:click="resta">
												<i class="fas fa-minus"></i>
											</button>
											<input type="text" disabled class="form-control p-2 m-auto w-50"
												v-model="contador" min="1">
											<button class="btn btn-success" v-on:click="suma">
												<i class="fas fa-plus"></i>
											</button>
										</div>
										<button class=" btn btn-outline-danger float-right"
											@click="addlista(detallesprod.info)">Añadir a deseos <i
												class="fas fa-heart"></i>
										</button>
									</div>
								</div>
							</div>
							<br>
							<div class="container">
								<button class="btn btn-dark form-control" @click="passdatos(detallesprod.info)">
									Generar Factura
								</button>
							</div>
							<br>
							<hr>
							<div class="row">

								<div class="col-12 ">
									<div class="d-flex justify-content-between w-100">
										<div v-if="Compra.select_Cantidad==''" class="d-flex justify-content-between ">
											<h4
												v-if="detallesprod.info.precioLibra!='' && detallesprod.info.precioArroba=='' && detallesprod.info.precioQuintal=='' && detallesprod.info.precioCaja==''">
												${{detallesprod.info.precioLibra}}</h4>
											<h4
												v-if="detallesprod.info.precioLibra=='' && detallesprod.info.precioArroba!='' && detallesprod.info.precioQuintal=='' && detallesprod.info.precioCaja==''">
												${{detallesprod.info.precioArroba}}</h4>
											<h4
												v-if="detallesprod.info.precioLibra=='' && detallesprod.info.precioArroba=='' && detallesprod.info.precioQuintal!='' && detallesprod.info.precioCaja==''">
												${{detallesprod.info.precioQuintal}}</h4>
											<h4
												v-if="detallesprod.info.precioLibra=='' && detallesprod.info.precioArroba=='' && detallesprod.info.precioQuintal=='' && detallesprod.info.precioCaja!=''">
												${{detallesprod.info.precioCaja}}</h4>
											<h4
												v-else="detallesprod.info.precioLibra!='' && detallesprod.info.precioArroba!='' && detallesprod.info.precioQuintal!='' && detallesprod.info.precioCaja!=''">
												${{detallesprod.info.precioLibra}}</h4>


										</div>
										<div v-if="Compra.select_Cantidad=='Libra'"
											class="d-flex justify-content-between 0">

											<h4>
												${{detallesprod.info.precioLibra}}</h4>
											<h4>

										</div>
										<div v-if="Compra.select_Cantidad=='Arroba'"
											class="d-flex justify-content-between 0">

											<h4>
												${{detallesprod.info.precioArroba}}</h4>
											<h4>

										</div>
										<div v-if="Compra.select_Cantidad=='Quintal'"
											class="d-flex justify-content-between ">

											<h4>
												${{detallesprod.info.precioQuintal}}</h4>
											<h4>

										</div>
										<div v-if="Compra.select_Cantidad=='Caja'"
											class="d-flex justify-content-between ">

											<h4>
												${{detallesprod.info.precioCaja}}</h4>
											<h4>

										</div>
										<h4 class="ancla" v-if="detallesprod.info.nombreCooperativa==''"
											@click="viewOwner(detallesprod.info.idUsuario)">
											{{detallesprod.info.nombreUsuario}}</h4>
										<h4 v-else @click="viewOwner(detallesprod.info.idUsuario)">
											{{detallesprod.info.nombreCooperativa}}</h4>
									</div>


								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
			<hr>
			<div class="card text-center mb-2">
				<div class="card-header">
					<ul class="nav nav-tabs card-header-tabs">
						<li class="nav-item">
							<a class="nav-link active" href="#">Productos Relacionados</a>
						</li>
					</ul>
				</div>
				<div class="card-body">
					<ul class="list-unstyled">
						<li class="media wow fadeIn" v-for="relacion in productosrelacionados">
							<img v-bind:src="relacion.imagen" width="64px" height="64px" class="mr-3" alt="...">
							<div class="media-body">
								<div class="col ">
									<h5 class="mt-0 mb-1  float-left">{{relacion.nombreProducto}}</h5>
								</div>
								<div class="col float-right">
									<div class="container">
										<p class="text-justify  text-black-50">
											{{relacion.descProducto}}
										</p>
										<div class="row mx-md-n5 mt-3">
											<div class="col-6 px-md-5">
												<div class="p-2   float-right" v-if="relacion.nombreCooperativa==''">
													{{relacion.nombreU}}</div>
												<div class="p-2   float-right" v-else> {{relacion.nombreCooperativa}}
												</div>
												<div class="p-2   float-left">${{relacion.precioLibra}}</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div id="content"></div>
		<div class="card-footer bg-dark">
			<p>© 2020 AgroProducer,Todos los derechos reservados.</p>
		</div>




		<!-- Modal -->
		<div class="modal fade " id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"
			role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered modal-lg">
				<div class="modal-content">
					<div class="modal-header bg-success">
						<h5 class="modal-title" id="staticBackdropLabel">Generacion de Factura</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body" id="body">
						<div class="container">
							<h4>
								Tiempo Limite Para Que Realize La Transferencia: &nbsp; {{limitDate}}
							</h4>
						</div>
						<form id="factura" class="border border-dark formulario"
							style="width: 100%; background-color: rgb(192, 192, 192);">

							<div class="form-row m-auto">
								<div class="col-md-12 ">
									<div>
										<img src="public/img/logo2,0.png" width="20%" alt="">
									</div>
									<div class=" d-flex justify-content-between mt-1">
										<h6 class="align-middle">Fecha:&nbsp;{{fecha}} </h6>
										<h5 class="align-middle">ID Pedido:&nbsp;{{facturar.idPedido}}</h5>
									</div>
								</div>
								<div class="col-md-12 ">
									<div class="form-inline d-flex justify-content-between">
										<p class="text-dark ">Facturado a:&nbsp; {{facturar.correo}}</p>
										<p class="text-dark float-right">Fuente:&nbsp;AgroProducers</p>
										<p class="text-dark">Distribuidora:&nbsp; {{facturar.distribuidora}}</p>
									</div>

								</div>
								<div class="col-md-12">
									<table class="table table-bordered bg-light">
										<thead>
											<tr>
												<th scope="col">Cant.</th>
												<th scope="col">T. Compra</th>
												<th scope="col">Descripción</th>
												<th scope="col">Precio U.</th>
												<th scope="col">Total</th>

											</tr>
										</thead>
										<tbody>
											<tr>
												<td scope="row">{{facturar.contador}}</td>
												<td>{{facturar.tCompra}}</td>
												<td>{{facturar.nombreProducto}}</td>
												<td>${{facturar.precioUnitario}}</td>
												<td>${{total}}</td>

											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</form>
						<form id="datosCuenta">
							<div class="container">
								<h3>Datos Bancarios del Vendedor:</h3><br>
								<strong>Cuenta de banco1:</strong><br>
								<strong>Cuenta de banco2:</strong><br>
								<strong>Cuenta de banco3:</strong><br>
								<strong>Cuenta de banco4:</strong>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" v-on:click="descargaDatosCuenta">
							<i class="fa fa-download" aria-hidden="true"></i>
							Descargar Datos de Cuenta
						</button>
						<button type="button" class="btn btn-primary" v-on:click="generarFactura">
							<i class="fa fa-download" aria-hidden="true"></i>
							Descargar PDF de Factura
						</button>

					</div>

				</div>
			</div>
		</div>



		<!-- Firebase -->
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-storage.js"></script>
		<script src="public/js/configFirebase.js"></script>

		<script src="https://code.jquery.com/jquery-3.5.1.js"
			integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
		<script src="bootstrap-4.4.1-dist/js/bootstrap.js"></script>

		<script src="public/js/vue.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
		<script src="public/js/html2pdf.bundle.min.js"></script>
		<script src="public/vistas/blog/dist/wow.js"></script>
		<script src="public/vistas/verproductos/genrarFactura.js"></script>
		<script src="public/vistas/verproductos/publicproductos.js"></script>



		<script>
			var wow = new WOW(
				{
					boxClass: 'wow',      // animated element css class (default is wow)
					animateClass: 'animated', // animation css class (default is animated)
					offset: 0,          // distance to the element when triggering the animation (default is 0)
				}
			);
			wow.init();
		</script>



	</body>

</html>
