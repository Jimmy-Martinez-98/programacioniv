<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	<link href="https://unpkg.com/vuesax@4.0.1-alpha.16/dist/vuesax.min.css" rel="stylesheet">

	<link rel="stylesheet" href="../../../bootstrap-4.4.1-dist/css/bootstrap.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
		integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="bandeja.css">

</head>

<title>bandeja</title>
</head>

<body>
	<div class="contenedor" id="bandejas">
		<div class="sidebar">
			<div class="header-sidebar ">
				Bandeja de Mensajes
			</div>
			<div class="list-msg">
				<ul class="list-group lista-items" v-for="items in users" v-on:click="openchat(items.uId)">
					<li class="list-group-item" v-if="items.idusuario!=msg.de ">
						{{items.nombreU}}
					</li>
				</ul>
			</div>

		</div>
		<div class="contenedor-msg" id="frm-chats">
			<div class="header-msg ">
				<h5 class="titulomsg ml-2">
					<p v-if="displayName.nombreU!=''">{{displayName.nombreU}}</p>
					<p v-else>{{displayName.nombreU}}</p>
				</h5>

			</div>

			<div class="contener-msgs">
				<div class="lista-mensajes">
					<ul class="listamsgs" v-for="item in msgs">
						<div v-if="item.imagenMensaje!='' && item.Mensaje==='' ||item.imagenMensaje!=null">
							<li v-if="item.De!=msg.de" class="listamsgs-item text-break mr-auto mt-1">
								<img :src="item.imagenMensaje" width="100%" height="100px">
							</li>
							<li v-else class="listamsgs-iteml text-break ml-auto mr-2">
								<img :src="item.imagenMensaje" width="100%" height="100px">
							</li>
						</div>
						<div v-else>
							<li v-if="item.De!=msg.de" class="listamsgs-item text-break mr-auto">
								{{item.Mensaje}}
							</li>
							<li v-else class="listamsgs-iteml text-break ml-auto mr-2">
								{{item.Mensaje}}
							</li>
						</div>

					</ul>
				</div>
			</div>

			<div class="card-footer ">
				<div class="row">
					<div class="col-sm-12">
						<div id="carga" class="center "></div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-1 pl-2">
						<form class="mt-2">
							<label>
								<input type="file" hidden @change="obtenerImagen">
								<img class="pointer" src="../../img/iconImage.png" width="35" height="30">
							</label>
						</form>
					</div>
					<div class="col-sm-8">
						<vs-input border success v-model="msg.msg" aria-autocomplete="none" placeholder="Escribe Un Mensaje" />

					</div>
					<div class="col-sm-1">
						<div class="container">
							<vs-button @click="enviarMensaje" size="large" success animation-type="vertical"
								class="send">
								Enviar
								<template #animate>
									<img src="../../img/send-24px.svg" width="18px" height="18px">
								</template>
							</vs-button>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-storage.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
	<script src="../../js/configFirebase.js"></script>


<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
	crossorigin="anonymous"></script>
	<script src="../../../bootstrap-4.4.1-dist/js/bootstrap.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
	<script src="https://unpkg.com/vuesax@4.0.1-alpha.16/dist/vuesax.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
	<script src="bandeja.js"></script>
	<script src="../../js/notificaciones.js"></script>

</body>

</html>